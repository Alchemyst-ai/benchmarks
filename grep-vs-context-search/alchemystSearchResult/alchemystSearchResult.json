{
  "1": {
    "id": 1,
    "query": "How does the plugin system work in opencode?",
    "tool": "alchemyst",
    "tokens": {
      "query": 10,
      "output": 255,
      "total": 265
    },
    "output": "[\n  {\n    \"content\": \"{\\\"# Contributing to OpenCode\\\":\\\"  - `packages\\\\/plugin`: Source for `@opencode-ai\\\\/plugin`\\\"}\"\n  },\n  {\n    \"content\": \"import solidPlugin from \\\". / packages / opencode / node _ modules / @ opentui / solid / scripts / solid - plugin \\\" import path from \\\" path \\\" import fs from \\\" fs \\\" const version = \\\" @ VERSION @ \\\" const pkg = path. join ( process. cwd ( ), \\\" packages / opencode \\\" ) const parser = fs. realpathSync ( path. join ( pkg, \\\". / node _ modules / @ opentui / core / parser. worker. js\"\n  },\n  {\n    \"content\": \"{ AuthOuathResult, Hooks } from \\\" @ opencode - ai / plugin \\\" import { NamedError } from \\\" @ opencode - ai / util / error \\\" import { Auth } from \\\" @ / auth \\\" export namespace ProviderAuth { const state = Instance. state ( async ( ) = > { const methods = pipe ( await Plugin. list ( ), filter ( ( x ) = > x. auth?. provider! = = undefined ), map ( ( x )\"\n  }\n]"
  },
  "2": {
    "id": 2,
    "query": "How do we add an agent to opencode?",
    "tool": "alchemyst",
    "tokens": {
      "query": 10,
      "output": 297,
      "total": 307
    },
    "output": "[\n  {\n    \"content\": \"/ apps / opencode - agent. Make sure it is installed on the target repository. 2. Add the following workflow file to. github / workflows / opencode. yml in your repo. Set the appropriate model and required API keys in env. yml name : opencode on : issue _ comment : types : [ created ] pull _ request _ review _ comment : types : [ created ] jobs : opencode : if : | contains ( github. event. comment. body, ' / oc\"\n  },\n  {\n    \"content\": \"{\\\"# opencode agent guidelines\\\":\\\"- **API Client**: Go TUI communicates with TypeScript server via stainless SDK. When adding\\\\/modifying server endpoints in `packages\\\\/opencode\\\\/src\\\\/server\\\\/server.ts`, ask the user to generate a new client SDK to proceed with client-side changes.\\\"}\"\n  },\n  {\n    \"content\": \"/ install | bash # # # Agents OpenCode includes two built - in agents you can switch between, you can switch between these using the Tab key. - * * build * * - Default, full access agent for development work - * * plan * * - Read - only agent for analysis and code exploration - Denies file edits by default - Asks permission before running bash commands - Ideal for exploring unfamiliar codebases or planning changes Also, included is a * * general * * subagent for complex searches and multi -\"\n  }\n]"
  },
  "3": {
    "id": 3,
    "query": "How does opencode manage tools internally?",
    "tool": "alchemyst",
    "tokens": {
      "query": 8,
      "output": 332,
      "total": 340
    },
    "output": "[\n  {\n    \"content\": \"/sst/opencode\\r\\n\\r\\nWhen the user directly asks about OpenCode (eg. \\\"can OpenCode do...\\\", \\\"does OpenCode have...\\\"), or asks how to use a specific OpenCode feature (eg. implement a hook, write a slash command, or install an MCP server), use the WebFetch tool to gather information to answer the question from OpenCode docs. The list of available docs is available at \"\n  },\n  {\n    \"content\": \"praise, or emotional validation. It is best for the user if OpenCode honestly applies the same rigorous standards to all ideas and disagrees when necessary, even if it may not be what the user wants to hear. Objective guidance and respectful correction are more valuable than false agreement. Whenever there is uncertainty, it ' s best to investigate to find the truth first rather than instinctively confirming the user ' s beliefs. # Task Management You have access to the TodoWrite tools to help you manage and plan tasks. Use these tools frequently for multi\"\n  },\n  {\n    \"content\": \"##s, praise, or emotional validation. It is best for the user if OpenCode honestly applies the same rigorous standards to all ideas and disagrees when necessary, even if it may not be what the user wants to hear. Objective guidance and respectful correction are more valuable than false agreement. Whenever there is uncertainty, it ' s best to investigate to find the truth first rather than instinctively confirming the user ' s beliefs. # Task Management You have access to the TodoWrite tools to help you manage and plan tasks. Use these tools V\"\n  }\n]"
  },
  "4": {
    "id": 4,
    "query": "How do agents communicate with tools in opencode?",
    "tool": "alchemyst",
    "tokens": {
      "query": 10,
      "output": 350,
      "total": 360
    },
    "output": "[\n  {\n    \"content\": \"You are OpenCode, the best coding agent on the planet. You are an interactive CLI tool that helps users with software engineering tasks. Use the instructions below and the tools available to you to assist the user. IMPORTANT : You must NEVER generate or guess URLs for the user unless you are confident that the URLs are for helping the user with programming. You may use URLs provided by the user in their messages or local files. If the user asks for help or wants to give feedback inform them of the following : - ctrl + p to list\"\n  },\n  {\n    \"content\": \"You are OpenCode, the best coding agent on the planet. You are an interactive CLI tool that helps users with software engineering tasks. Use the instructions below and the tools available to you to assist the user. IMPORTANT : Do not guess arbitrary URLs. Only provide URLs you are confident are correct and directly helpful for programming ( for example, well - known official documentation ). Prefer URLs provided by the user in their messages or local files. If the user asks for help or wants to give feedback inform them of the following : - ctr\"\n  },\n  {\n    \"content\": \"You are a coding agent running in the opencode, a terminal - based coding assistant. opencode is an open source project. You are expected to be precise, safe, and helpful. Your capabilities : - Receive user prompts and other context provided by the harness, such as files in the workspace. - Communicate with the user by streaming thinking & responses, and by making & updating plans. - Emit function calls to run terminal commands and apply edits. Depending on how this specific run is configured, you can request that these function\"\n  }\n]"
  },
  "5": {
    "id": 5,
    "query": "Where is the main entry point of opencode?",
    "tool": "alchemyst",
    "tokens": {
      "query": 10,
      "output": 242,
      "total": 252
    },
    "output": "[\n  {\n    \"content\": \"/opencode)\\r\\n\"\n  },\n  {\n    \"content\": \"{\\\"$schema\\\":\\\"https:\\\\/\\\\/schema.tauri.app\\\\/config\\\\/2\\\",\\\"productName\\\":\\\"OpenCode Dev\\\",\\\"identifier\\\":\\\"ai.opencode.desktop.dev\\\",\\\"mainBinaryName\\\":\\\"OpenCode\\\",\\\"version\\\":\\\"..\\\\/package.json\\\",\\\"build\\\":null,\\\"app\\\":null,\\\"bundle\\\":[\\\"icons\\\\/dev\\\\/32x32.png\\\",\\\"icons\\\\/dev\\\\/128x128.png\\\",\\\"icons\\\\/dev\\\\/128x128@2x.png\\\",\\\"icons\\\\/dev\\\\/icon.icns\\\",\\\"icons\\\\/dev\\\\/icon.ico\\\"]}\"\n  },\n  {\n    \"content\": \"x. path ) } const output = bundle. outputs. find ( ( x ) = > x. kind = = = \\\" entry - point \\\" ) if (! output ) { throw new Error ( \\\" Worker build produced no entry - point output \\\" ) } const dest = path. join ( pkg, \\\" opencode - worker. js \\\" ) await Bun. write ( dest, Bun. file ( output. path ) ) fs. rmSync ( path. dirname ( output. path ), { recursive : true\"\n  }\n]"
  },
  "6": {
    "id": 6,
    "query": "What environment variables does opencode use?",
    "tool": "alchemyst",
    "tokens": {
      "query": 8,
      "output": 87,
      "total": 95
    },
    "output": "[\n  {\n    \"content\": \"{\\\"# @opencode-ai\\\\/slack\\\":\\\"5. Set environment variables in `.env`:\\\"}\"\n  },\n  {\n    \"content\": \"{\\\"# Contributing to OpenCode\\\":\\\"- Fixes for environment-specific quirks\\\"}\"\n  },\n  {\n    \"content\": \"{\\\"# Contributing to OpenCode\\\":\\\"- **Variables:** Stick to immutable patterns and avoid `let`.\\\"}\"\n  }\n]"
  },
  "7": {
    "id": 7,
    "query": "What is the execution flow of a request in opencode?",
    "tool": "alchemyst",
    "tokens": {
      "query": 12,
      "output": 254,
      "total": 266
    },
    "output": "[\n  {\n    \"content\": \"You are a coding agent running in the opencode, a terminal - based coding assistant. opencode is an open source project. You are expected to be precise, safe, and helpful. Your capabilities : - Receive user prompts and other context provided by the harness, such as files in the workspace. - Communicate with the user by streaming thinking & responses, and by making & updating plans. - Emit function calls to run terminal commands and apply edits. Depending on how this specific run is configured, you can request that these function\"\n  },\n  {\n    \"content\": \"{\\\"# Contributing to OpenCode\\\":\\\"- **Control flow:** Avoid `else` statements.\\\"}\"\n  },\n  {\n    \"content\": \"ubuntu - latest permissions : id - token : write contents : read pull - requests : read issues : read steps : - name : Checkout repository uses : actions / checkout @ v4 - name : Run opencode uses : sst / opencode / github @ latest $ { envStr } with : model : $ { provider } / $ { model }, ) prompts. log. success ( Added workflow file : \\\" $ { WORKFLOW _ FILE } \\\" ) } } }, } ) }\"\n  }\n]"
  },
  "8": {
    "id": 8,
    "query": "What are common failure points in opencode plugins?",
    "tool": "alchemyst",
    "tokens": {
      "query": 10,
      "output": 328,
      "total": 338
    },
    "output": "[\n  {\n    \"content\": \"result. agent | | { } result. mode = result. mode | | { } result. plugin = result. plugin | | [ ] const directories = [ Global. Path. config,... ( await Array. fromAsync ( Filesystem. up ( { targets : [ \\\". opencode \\\" ], start : Instance. directory, stop : Instance. worktree, } ), ) ),... ( await Array. fromAsync ( Filesystem. up ( { targets : [ \\\". opencode \\\" ]\"\n  },\n  {\n    \"content\": \"} ) } ) test ( \\\" deduplicates duplicate plugins from global and local configs \\\", async ( ) = > { await using tmp = await tmpdir ( { init : async ( dir ) = > { / / Create a nested project structure with local. opencode config const projectDir = path. join ( dir, \\\" project \\\" ) const opencodeDir = path. join ( projectDir, \\\". opencode \\\" ) await fs. mkdir ( opencodeDir,\"\n  },\n  {\n    \"content\": \"( const file of [ \\\" opencode. jsonc \\\", \\\" opencode. json \\\" ] ) { log. debug ( loading config from $ { path. join ( dir, file ) } ) result = mergeConfigWithPlugins ( result, await loadFile ( path. join ( dir, file ) ) ) / / to satisy the type checker result. agent?? = { } result. mode?? = { } result. plugin?? = [ ] } } promises. push ( installDependencies\"\n  }\n]"
  },
  "9": {
    "id": 9,
    "query": "How does opencode handle context and memory?",
    "tool": "alchemyst",
    "tokens": {
      "query": 9,
      "output": 334,
      "total": 343
    },
    "output": "[\n  {\n    \"content\": \"in the PR ' s \\\" Files \\\" tab. opencode will automatically detect the file, line numbers, and diff context to provide precise responses. [ Comment on specific lines in Files tab ] / oc add error handling here When commenting on specific lines, opencode receives : - The exact file being reviewed - The specific lines of code - The surrounding diff context - Line number information This allows for more targeted requests without needing to specify file paths or line numbers manually. # # Installation Run the following command in the terminal from your Git\"\n  },\n  {\n    \"content\": \"You are a coding agent running in the opencode, a terminal - based coding assistant. opencode is an open source project. You are expected to be precise, safe, and helpful. Your capabilities : - Receive user prompts and other context provided by the harness, such as files in the workspace. - Communicate with the user by streaming thinking & responses, and by making & updating plans. - Emit function calls to run terminal commands and apply edits. Depending on how this specific run is configured, you can request that these function\"\n  },\n  {\n    \"content\": \"new Error ( \\\" Comments must mention / opencode or / oc \\\" ) } } function getReviewCommentContext ( ) { const context = useContext ( ) if ( context. eventName! = = \\\" pull _ request _ review _ comment \\\" ) { return null } const payload = context. payload as PullRequestReviewCommentEvent return { file : payload. comment. path, diffHunk : payload. comment. diff _ hunk, line : pay\"\n  }\n]"
  },
  "10": {
    "id": 10,
    "query": "How can a custom agent be registered in opencode?",
    "tool": "alchemyst",
    "tokens": {
      "query": 11,
      "output": 180,
      "total": 191
    },
    "output": "[\n  {\n    \"content\": \"{\\\"# Agent Guidelines for @opencode\\\\/app\\\":\\\"- Custom theme system with CSS variables\\\"}\"\n  },\n  {\n    \"content\": \"{\\\"# Agent Guidelines for @opencode\\\\/app\\\":\\\"- **CSS**: TailwindCSS with custom CSS variables theme system\\\"}\"\n  },\n  {\n    \"content\": \"You are a coding agent running in the opencode, a terminal - based coding assistant. opencode is an open source project. You are expected to be precise, safe, and helpful. Your capabilities : - Receive user prompts and other context provided by the harness, such as files in the workspace. - Communicate with the user by streaming thinking & responses, and by making & updating plans. - Emit function calls to run terminal commands and apply edits. Depending on how this specific run is configured, you can request that these function\"\n  }\n]"
  }
}